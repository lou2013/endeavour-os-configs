#!/usr/bin/env bash
# Copyright (C) 2024 Iman moghadari

# This program is free software: you can redistribute it and/or modify
# it under the terms of the GNU General Public License as published by
# the Free Software Foundation, either version 3 of the License, or
# (at your option) any later version.

# This program is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
# GNU General Public License for more details.

# You should have received a copy of the GNU General Public License
# along with this program.  If not, see <http://www.gnu.org/licenses/>.

# Get the IP address and country information
IP=$(curl -s http://ip-api.com/json | jq -r .query)
COUNTRY_CODE=$(curl -s http://ip-api.com/json | jq -r .countryCode | tr '[:upper:]' '[:lower:]')
COUNTRY_NAME=$(curl -s http://ip-api.com/json | jq -r .country)

emoji() {
    case $1 in
        us) echo "ğŸ‡ºğŸ‡¸";;  # United States
        gb) echo "ğŸ‡¬ğŸ‡§";;  # United Kingdom
        fr) echo "ğŸ‡«ğŸ‡·";;  # France
        de) echo "ğŸ‡©ğŸ‡ª";;  # Germany
        in) echo "ğŸ‡®ğŸ‡³";;  # India
        jp) echo "ğŸ‡¯ğŸ‡µ";;  # Japan
        ir) echo "ğŸ‡®ğŸ‡·";;  # Iran
        cn) echo "ğŸ‡¨ğŸ‡³";;  # China
        ru) echo "ğŸ‡·ğŸ‡º";;  # Russia
        br) echo "ğŸ‡§ğŸ‡·";;  # Brazil
        ca) echo "ğŸ‡¨ğŸ‡¦";;  # Canada
        au) echo "ğŸ‡¦ğŸ‡º";;  # Australia
        it) echo "ğŸ‡®ğŸ‡¹";;  # Italy
        es) echo "ğŸ‡ªğŸ‡¸";;  # Spain
        mx) echo "ğŸ‡²ğŸ‡½";;  # Mexico
        sa) echo "ğŸ‡¸ğŸ‡¦";;  # Saudi Arabia
        ae) echo "ğŸ‡¦ğŸ‡ª";;  # United Arab Emirates
        za) echo "ğŸ‡¿ğŸ‡¦";;  # South Africa
        kr) echo "ğŸ‡°ğŸ‡·";;  # South Korea
        ar) echo "ğŸ‡¦ğŸ‡·";;  # Argentina
        tr) echo "ğŸ‡¹ğŸ‡·";;  # Turkey
        ng) echo "ğŸ‡³ğŸ‡¬";;  # Nigeria
        eg) echo "ğŸ‡ªğŸ‡¬";;  # Egypt
        id) echo "ğŸ‡®ğŸ‡©";;  # Indonesia
        vn) echo "ğŸ‡»ğŸ‡³";;  # Vietnam
        th) echo "ğŸ‡¹ğŸ‡­";;  # Thailand
        my) echo "ğŸ‡²ğŸ‡¾";;  # Malaysia
        ph) echo "ğŸ‡µğŸ‡­";;  # Philippines
        sg) echo "ğŸ‡¸ğŸ‡¬";;  # Singapore
        hk) echo "ğŸ‡­ğŸ‡°";;  # Hong Kong
        tw) echo "ğŸ‡¹ğŸ‡¼";;  # Taiwan
        pl) echo "ğŸ‡µğŸ‡±";;  # Poland
        nl) echo "ğŸ‡³ğŸ‡±";;  # Netherlands
        be) echo "ğŸ‡§ğŸ‡ª";;  # Belgium
        ch) echo "ğŸ‡¨ğŸ‡­";;  # Switzerland
        se) echo "ğŸ‡¸ğŸ‡ª";;  # Sweden
        no) echo "ğŸ‡³ğŸ‡´";;  # Norway
        dk) echo "ğŸ‡©ğŸ‡°";;  # Denmark
        fi) echo "ğŸ‡«ğŸ‡®";;  # Finland
        pt) echo "ğŸ‡µğŸ‡¹";;  # Portugal
        gr) echo "ğŸ‡¬ğŸ‡·";;  # Greece
        at) echo "ğŸ‡¦ğŸ‡¹";;  # Austria
        ie) echo "ğŸ‡®ğŸ‡ª";;  # Ireland
        il) echo "ğŸ‡®ğŸ‡±";;  # Israel
        *) echo "ğŸŒ";;    # Default globe emoji for unknown codes
    esac
}

echo "$IP $(emoji $COUNTRY_CODE) ($COUNTRY_NAME)"
